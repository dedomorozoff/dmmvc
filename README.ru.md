[English](README.md) | **–†—É—Å—Å–∫–∏–π** | [üß≠ –ù–∞–≤–∏–≥–∞—Ü–∏—è](NAVIGATION.md)

# DMMVC - Lightweight MVC Web Framework

**DMMVC** ‚Äî –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π MVC –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –Ω–∞ Go, –≥–æ—Ç–æ–≤—ã–π –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ª—é–±—ã—Ö –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.

> üìö **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: [docs/](docs/) | üß≠ **–ù–∞–≤–∏–≥–∞—Ü–∏—è**: [NAVIGATION.md](NAVIGATION.md)

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- **MVC –ø–∞—Ç—Ç–µ—Ä–Ω** - Model-View-Controller
- **–ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞** - –†–∞—Å—à–∏—Ä—è–µ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- **Middleware —Å–∏—Å—Ç–µ–º–∞** - –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤
- **–†–æ—É—Ç–∏–Ω–≥** - –°–∏—Å—Ç–µ–º–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** - –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- **–°–µ—Å—Å–∏–∏** - –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏
- **–•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π** - bcrypt –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è
- **CSRF –∑–∞—â–∏—Ç–∞** - –ì–æ—Ç–æ–≤–∞ –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **GORM ORM** - ORM –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î
- **–ú–∏–≥—Ä–∞—Ü–∏–∏** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ë–î
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ SQLite** - –î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ MySQL** - –î–ª—è production –æ–∫—Ä—É–∂–µ–Ω–∏—è
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ PostgreSQL** - –ú–æ—â–Ω–∞—è —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è –ë–î ‚ú®

### –®–∞–±–ª–æ–Ω—ã
- **Go Templates** - –®–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä
- **Layouts** - –°–∏—Å—Ç–µ–º–∞ layouts –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- **Partials** - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è –º–æ–¥—É–ª—å–Ω–æ—Å—Ç–∏
- **–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞–∑–¥–∞—á–∞ CSS/JS

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- **Logrus** - –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- **Request logging** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤
- **Error tracking** - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫
- **Panic recovery** - –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–∞–Ω–∏–∫

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **Backend**: Go 1.20+
- **Web Framework**: Gin
- **ORM**: GORM
- **Database**: SQLite / MySQL / PostgreSQL
- **Logger**: Logrus
- **Sessions**: gorilla/sessions

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/dedomorozoff/dmmvc
cd dmmvc

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
go mod tidy

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä
go run cmd/server/main.go
```

### –ü–µ—Ä–≤—ã–π –≤—Ö–æ–¥

–û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä: **http://localhost:8080**

–£—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:
- **–õ–æ–≥–∏–Ω**: `admin`
- **–ü–∞—Ä–æ–ª—å**: `admin`

**–í–∞–∂–Ω–æ**: –°–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª—å –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –≤—Ö–æ–¥–∞!

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
dmmvc/
‚îú‚îÄ‚îÄ cmd/
‚îÇ   ‚îú‚îÄ‚îÄ cli/                 # CLI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç
‚îÇ   ‚îî‚îÄ‚îÄ server/              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ internal/
‚îÇ   ‚îú‚îÄ‚îÄ controllers/         # HTTP –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ database/            # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ logger/              # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ middleware/          # Middleware
‚îÇ   ‚îú‚îÄ‚îÄ models/              # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ routes/              # –ú–∞—Ä—à—Ä—É—Ç—ã
‚îú‚îÄ‚îÄ static/
‚îÇ   ‚îú‚îÄ‚îÄ css/                 # –°—Ç–∏–ª–∏
‚îÇ   ‚îî‚îÄ‚îÄ js/                  # JavaScript
‚îú‚îÄ‚îÄ templates/
‚îÇ   ‚îú‚îÄ‚îÄ layouts/             # Layouts
‚îÇ   ‚îú‚îÄ‚îÄ partials/            # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ pages/               # –°—Ç—Ä–∞–Ω–∏—Ü—ã
‚îú‚îÄ‚îÄ docs/                    # üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ docker/                  # üê≥ Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ scripts/                 # üîß –£—Ç–∏–ª–∏—Ç—ã
‚îú‚îÄ‚îÄ .env.example             # –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ Dockerfile               # Docker –æ–±—Ä–∞–∑
‚îú‚îÄ‚îÄ Makefile                 # –ö–æ–º–∞–Ω–¥—ã —Å–±–æ—Ä–∫–∏
‚îî‚îÄ‚îÄ README.md                # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

üìñ **–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: [docs/](docs/)

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
# Server Settings
PORT=8080
GIN_MODE=debug

# Database Settings
DB_TYPE=sqlite
DB_DSN=dmmvc.db

# For MySQL:
# DB_TYPE=mysql
# DB_DSN=user:password@tcp(localhost:3306)/dmmvc?charset=utf8mb4&parseTime=True&loc=Local

# For PostgreSQL:
# DB_TYPE=postgres
# DB_DSN=host=localhost user=postgres password=postgres dbname=dmmvc port=5432 sslmode=disable

# Security Settings
SESSION_SECRET=your-super-secret-key-change-this-in-production

# Logging Settings
LOG_LEVEL=info
LOG_FILE=dmmvc.log

# Development Settings
DEBUG=true
```

## –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞

```go
package controllers

import (
    "net/http"
    "github.com/gin-gonic/gin"
)

func MyController(c *gin.Context) {
    c.HTML(http.StatusOK, "pages/mypage.html", gin.H{
        "title": "My Page",
        "data": "Some data",
    })
}
```

## –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –º–æ–¥–µ–ª–∏

```go
package models

import "gorm.io/gorm"

type MyModel struct {
    gorm.Model
    Name        string `json:"name"`
    Description string `json:"description"`
}
```

## –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞

```go
// –í —Ñ–∞–π–ª–µ internal/routes/routes.go
authorized.GET("/mypage", controllers.MyController)
```

## –°–æ–∑–¥–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞

```html
{{define "pages/mypage.html"}}
{{template "layouts/base.html" .}}
{{define "content"}}
<div class="container">
    <h1>{{.title}}</h1>
    <p>{{.data}}</p>
</div>
{{end}}
{{end}}
```

## Middleware

### –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ middleware

```go
func MyMiddleware() gin.HandlerFunc {
    return func(c *gin.Context) {
        // –ö–æ–¥ –¥–æ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–∞
        c.Next()
        // –ö–æ–¥ –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–∞
    }
}
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ middleware

```go
// –ì–ª–æ–±–∞–ª—å–Ω–æ
r.Use(MyMiddleware())

// –î–ª—è –≥—Ä—É–ø–ø—ã –º–∞—Ä—à—Ä—É—Ç–æ–≤
authorized := r.Group("/")
authorized.Use(MyMiddleware())
```

## –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

```go
import "dmmvc/internal/database"

// –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏
user := models.User{Username: "john", Email: "john@example.com"}
database.DB.Create(&user)

// –ü–æ–∏—Å–∫
var user models.User
database.DB.First(&user, 1) // –ü–æ ID
database.DB.Where("username = ?", "john").First(&user)

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ
database.DB.Model(&user).Update("Email", "newemail@example.com")

// –£–¥–∞–ª–µ–Ω–∏–µ
database.DB.Delete(&user)
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
go test ./...

# –° –ø–æ–∫—Ä—ã—Ç–∏–µ–º
go test -cover ./...
```

## –°–±–æ—Ä–∫–∞ –¥–ª—è production

```bash
# –°–±–æ—Ä–∫–∞ –±–∏–Ω–∞—Ä–Ω–∏–∫–∞
go build -o dmmvc cmd/server/main.go

# –ó–∞–ø—É—Å–∫
./dmmvc
```

## Docker

```dockerfile
FROM golang:1.20-alpine
WORKDIR /app
COPY . .
RUN go mod download
RUN go build -o dmmvc cmd/server/main.go
EXPOSE 8080
CMD ["./dmmvc"]
```

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

## CLI –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç

DMMVC –≤–∫–ª—é—á–∞–µ—Ç –º–æ—â–Ω—ã–π CLI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞!

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç —Å CLI

```bash
# –°–æ–±—Ä–∞—Ç—å CLI
make build

# –°–æ–∑–¥–∞—Ç—å CRUD –¥–ª—è –ø—Ä–æ–¥—É–∫—Ç–æ–≤
dmmvc make:crud Product

# –°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä
dmmvc make:controller About

# –°–æ–∑–¥–∞—Ç—å –º–æ–¥–µ–ª—å
dmmvc make:model Category --migration

# –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ —Ä–µ—Å—É—Ä—Å—ã
dmmvc list
```

üìñ **–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: [docs/CLI.ru.md](docs/CLI.ru.md)

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö

DMMVC –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç—Ä–∏ —Ç–∏–ø–∞ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö:

- **SQLite** - –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –Ω–µ–±–æ–ª—å—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤
- **MySQL** - –ü–æ–ø—É–ª—è—Ä–Ω–∞—è —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è –ë–î
- **PostgreSQL** - –ú–æ—â–Ω–∞—è open-source –ë–î ‚ú®

üìñ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è PostgreSQL**: [docs/POSTGRESQL.ru.md](docs/POSTGRESQL.ru.md)

## Roadmap

- [x] CLI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞ ‚úÖ
- [x] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ PostgreSQL ‚úÖ
- [ ] WebSocket –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- [ ] API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (Swagger)
- [ ] –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ (Redis)
- [ ] –û—á–µ—Ä–µ–¥–∏ –∑–∞–¥–∞—á
- [ ] Email –æ—Ç–ø—Ä–∞–≤–∫–∞
- [ ] File upload helper
- [ ] –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è (i18n)
