{{define "pages/dashboard.html"}}
{{template "partials/base_head.html" .}}
{{template "partials/header.html" .}}

<main class="main">
    <div class="container">
        <h1 class="page-title">Dashboard</h1>

        <div class="dashboard-welcome">
            <h2>Welcome, {{.username}}!</h2>
            <p>Role: <span class="badge">{{.role}}</span></p>
        </div>

        {{if not (or .features.WebSocket .features.Redis .features.Swagger .features.FileUpload .features.I18n .features.Queue .features.Email)}}
        <div class="alert alert-info" style="margin-bottom: 2rem; padding: 1rem; background: #e3f2fd; border-left: 4px solid #2196f3; border-radius: 4px;">
            <h3 style="margin-top: 0; color: #1976d2;">‚ÑπÔ∏è Framework Features</h3>
            <p>All features are currently disabled. To enable features like WebSocket, Swagger, File Upload, i18n, etc., add them to your <code>.env</code> file:</p>
            <pre style="background: #fff; padding: 0.5rem; border-radius: 4px; overflow-x: auto;">WEBSOCKET_ENABLE=true
SWAGGER_ENABLE=true
FILE_UPLOAD_ENABLE=true
I18N_ENABLE=true</pre>
            <p style="margin-bottom: 0;">See <code>docs/FEATURES.md</code> for more information.</p>
        </div>
        {{end}}

        <div class="dashboard-grid">
            <div class="dashboard-card">
                <h3>Statistics</h3>
                <p>View your application statistics and metrics</p>
            </div>

            <div class="dashboard-card">
                <h3>Recent Activity</h3>
                <p>Track recent actions and events</p>
            </div>

            {{if .features.Swagger}}
            <div class="dashboard-card">
                <h3>API Documentation</h3>
                <p><a href="/swagger/index.html" target="_blank">Swagger UI</a></p>
                <p class="text-muted">Interactive API documentation</p>
            </div>
            {{else}}
            <div class="dashboard-card" style="opacity: 0.6;">
                <h3>API Documentation üîí</h3>
                <p class="text-muted">Disabled. Set <code>SWAGGER_ENABLE=true</code> in .env</p>
            </div>
            {{end}}

            {{if .features.FileUpload}}
            <div class="dashboard-card">
                <h3>File Upload</h3>
                <p><a href="/upload">Upload Files</a></p>
                <p class="text-muted">Upload and manage files</p>
            </div>
            {{else}}
            <div class="dashboard-card" style="opacity: 0.6;">
                <h3>File Upload üîí</h3>
                <p class="text-muted">Disabled. Set <code>FILE_UPLOAD_ENABLE=true</code> in .env</p>
            </div>
            {{end}}

            {{if .features.WebSocket}}
            <div class="dashboard-card">
                <h3>WebSocket Demo</h3>
                <p><a href="/websocket">Real-time Communication</a></p>
                <p class="text-muted">Test WebSocket functionality</p>
            </div>
            {{else}}
            <div class="dashboard-card" style="opacity: 0.6;">
                <h3>WebSocket Demo üîí</h3>
                <p class="text-muted">Disabled. Set <code>WEBSOCKET_ENABLE=true</code> in .env</p>
            </div>
            {{end}}

            {{if .features.I18n}}
            <div class="dashboard-card">
                <h3>i18n Demo</h3>
                <p><a href="/i18n">Internationalization</a></p>
                <p class="text-muted">Multi-language support</p>
            </div>
            {{else}}
            <div class="dashboard-card" style="opacity: 0.6;">
                <h3>i18n Demo üîí</h3>
                <p class="text-muted">Disabled. Set <code>I18N_ENABLE=true</code> in .env</p>
            </div>
            {{end}}

            {{if eq .role "admin"}}
            <div class="dashboard-card">
                <h3>Admin Panel</h3>
                <p><a href="/admin/users">Manage Users</a></p>
            </div>
            {{end}}
        </div>
    </div>
</main>

{{template "partials/footer.html" .}}
{{template "partials/base_foot.html" .}}
{{end}}